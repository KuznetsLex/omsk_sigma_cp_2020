# STL (Стандартная библиотека шаблонов)

Предисловие: Большинство структур данных из библиотеки STL имеют сходный синтаксис, например
- все они создаются почти одинаково(как-то так: `struct<elements_type> name(size)`)
- чтобы получить количество элементов в структуре, нужно вызвать метод size: `struct.size()`
- и т.д.

Так что не пугайтесь, тут не так уж много нового:)

## Vector

Vector - динамический массив, т.е. такой массив, размер которого можно изменять, удалять элементы, вставлять элементы и т.д.

По факту **то же самое, только удобнее**. В ходе лекции мы часто будем говорить слово "массив", вместо "вектор", потому что они достаточно похожи.

<center><img src="vectormeme.jpg"></center>

Объявляется вектор так: `vector<тип_элементов> имя_вектора(размер_вектора, чем_заполнить)`

Таким образом, пример вектора: `vector<int> v(10,0)` - массив из 10 элементов, заполненный нулями  
Аналогичный массив: `int v[10]`

Чаще всего удобнее создавать вектор из нулей, поэтому есть ещё одна форма создания вектора:  
`vector<int> v(n)` - создаст вектор из n "пустых" элементов (*В этом случае вектор заполняется нулями*)

**Кстати, у вектора в качестве размера можно указать переменную(а не константу), в отличии от массива!**

Обращаться к элементу вектора нужно так же, как к массиву, т.е. v[i]  
Нумерация также начинается начинается с 0, т.е. первый элемент доступен как v[0]

### Основные методы

#### На метод можно нажать чтобы почитать более подробно.

[`vector.size()`](https://en.cppreference.com/w/cpp/container/vector/size) - возвращает размер(количество элементов) массива.

[`vector.front()`](https://en.cppreference.com/w/cpp/container/vector/front) - возвращает первый элемент массива, аналог vector[0]

[`vector.back()`](https://en.cppreference.com/w/cpp/container/vector/back) - возвращает последний элемент массива. **достаточно удобно, чтобы не писать каждый раз v[v.size()-1]**

[`vector.push_back(element)`](https://en.cppreference.com/w/cpp/container/vector/push_back) - добавляет в конец массива element, увеличивает размер массива на 1.

[`vector.pop_back()`](https://en.cppreference.com/w/cpp/container/vector/pop_back) - удаляет последний элемент массива, уменьшает размер массива на 1, **не возвращает удаленное значение**.

[`vector.resize(new_size) или vector.resize(new_size, element)`](https://en.cppreference.com/w/cpp/container/vector/resize) - меняет размер массива на new_size, также можно передать второй параметр element, тогда все новые элементы инициализируются этим значением.

### Методы, возвращающие указатели

<center><img src="pointer.jpg"></center>

Указатель на элемент - такая штука, которая знает, где элемент находится в памяти. Указатели в основном нужны для других методов (например для встроенной в STL сортировки вектора). Подробнее о них мы поговорим позже.

[`vector.begin()`](https://en.cppreference.com/w/cpp/container/vector/begin) - указатель на первый элемент массива.

[`vector.end()`](https://en.cppreference.com/w/cpp/container/vector/end) - указатель на фикитвный элемент за последним.

[`vector.rbegin()`](https://en.cppreference.com/w/cpp/container/vector/rbegin) - указатель на последний элемент массива.

[`vector.rend()`](https://en.cppreference.com/w/cpp/container/vector/rend) - указатель на фиктивный элемент перед первым.

![Картинка чтобы понятнее было](vectorendbegin.gif)

## Pair

Pair - пара значений любых типов. Любых. Типов.

<center><img src="pairmeme.jpg"></center>
<center>(Это скомпилится)</center>

Пара создаётся так: `pair<type1,type2> name`

Чтобы обратиться к первому элементу пары надо писать `p.first`, ко второму - `p.second`. Пару можно инициализировать вот так `pair<int,string> p = {2,"sigma"}`, или так `pair<int,string> p = make_pair(2,"sigma")`. Рекомендуется пользоваться первым.

Часто хочется нагромоздить кучу пар, если у объекта более 2-х свойств(например точки в трехмерном пространстве), типа pair<int,pair<int,int>>. В таких случаях правильнее пользоваться собственноручно созданной структурой, или `tuple`-ом (про него подробнее написано ниже).

## Tuple

Тапл создаётся на манер пары: `tuple<type1,type2,type3,...> name`  
Например: `tuple<int,int,string> t`  
Это как пара, только элементов может быть сколько угодно(по вашему выбору).

Чтобы присвоить значение таплу, нужно воспользоваться методом `t = make_tuple(val1,val2,val3...)`  
Например `t = make_tuple(1,2,"привет")`

Чтобы получить доступ к i-му элементу нужно воспользоваться `get<i>(tuple)`, нумерация с нуля  
Например: `get<0>(t)` - первый элемент тапла

Чтобы "выгрузить" значения из tuple, существует функция `tie()`  
Например:  
```c++
tuple<int,int,string> t = make_tuple(1,2,"привет");
int a,b;
string s;
tie(a,b,s) = t;
```  
После выполнения этого куска кода, `a = 1, b = 2, s = "привет"`
___

## [Sigma Omsk](https://vk.com/sigma_omsk) 2020

